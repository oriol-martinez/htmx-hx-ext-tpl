(function(){var d="take";var e="hx-take";var t="0.3.0";function v(e,t){if(e){for(var s=0;s<e.length;s++){res=t(e[s]);if(res===false)return false}}}function s(e){return e[0].toUpperCase()+e.slice(1)}function S(e){return e.trim().split(/\s+/)}htmx.defineExtension(d,{extAttr:e,version:t,config:{eventsPrefix:"ext"+s(d),swappingClass:e+"-swapping",defaultSwapMode:"copy",defaultSwapTaken:"innerHTML",defaultSwapTarget:"innerHTML",swapStyleAliases:{move:"",replace:"move:outer to:outer",copy:"copy:inner to:inner",trade:"exchange:inner to:inner",exchange:"exchange:outer to:outer",append:"copy:inner to:beforeend",prepend:"copy:inner to:afterbegin"}},init:function(e){this.internalAPI=e;htmx[d]=this},onEvent:function(e,t){var s=t.target;if(e=="htmx:trigger"&&this.internalAPI.getAttributeValue(s,this.extAttr)){this.customSwap(s);return false}return true},updateScrollState:function(e,t){var s=e[0];var a=e[e.length-1];if(t.scroll){var r=null;if(t.scrollTarget){r=querySelectorExt(s,t.scrollTarget)}if(t.scroll==="top"&&(s||r)){r=r||s;r.scrollTop=0}if(t.scroll==="bottom"&&(a||r)){r=r||a;r.scrollTop=r.scrollHeight}}if(t.show){var r=null;if(t.showTarget){var n=t.showTarget;if(t.showTarget==="window"){n="body"}r=querySelectorExt(s,n)}if(t.show==="top"&&(s||r)){r=r||s;r.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})}if(t.show==="bottom"&&(a||r)){r=r||a;r.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}},isHtmxSwapStyle:function(e){e=S(e)[0];return["innerHTML","outerHTML","beforebegin","afterbegin","beforeend","afterend","delete","none"].indexOf(e)!==-1},swapStyleProp:function(e){return{innerHTML:"innerHTML",outerHTML:"outerHTML",beforebegin:"outerHTML",afterbegin:"innerHTML",beforeend:"innerHTML",afterend:"outerHTML",delete:"outerHTML",none:"outerHTML"}[e]||"innerHTML"},getSwapStyleFromAlias:function(e){e=S(e)[0];return this.config.swapStyleAliases[e]||""},getTakeInfo:function(e){var t=this.internalAPI.getTarget(e);var s=this.internalAPI.getClosestAttributeValue(e,this.extAttr);var a=null;if(s)var a=htmx.find(s);return{elt:e,target:t,source:a,swapSpec:this.getCustomSwapSpecification(e)}},getCustomSwapSpecification:function(e,t){var s=this.internalAPI;var a=t?t:s.getClosestAttributeValue(e,"hx-swap");var r={swapMode:null,swapTaken:null,swapStyle:s.getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(s.getInternalData(e).boosted&&!isAnchorLink(e)){r["show"]="top"}if(a){var n=S(a);if(n.length>0){if(n.length==1&&this.getSwapStyleFromAlias(n[0])){return this.getCustomSwapSpecification(e,this.getSwapStyleFromAlias(n[0]))}r["swapStyle"]=n[0];for(var i=0;i<n.length;i++){var o=n[i];var l=this;v(Object.keys(this.swapModes),function(e){if(o.indexOf(e)===0){if(o.indexOf(":")!==-1){var t=o.split(":");r["swapMode"]=t[0];r["swapTaken"]=t[1]}else{r["swapMode"]=o;r["swapTaken"]=l.config.defaultSwapTaken}r["swapTarget"]=l.config.defaultSwapTarget;if(r["swapTaken"]=="inner"||r["swapTaken"]=="outer"){r["swapTaken"]+="HTML"}return false}});if(o.indexOf("to:")===0){r["swapTarget"]=o.substr(3);if(r["swapTarget"]=="inner"||r["swapTarget"]=="outer"){r["swapTarget"]+="HTML"}}else if(o.indexOf("swap:")===0){r["swapDelay"]=htmx.parseInterval(o.substr(5))}else if(o.indexOf("settle:")===0){r["settleDelay"]=htmx.parseInterval(o.substr(7))}else if(o.indexOf("transition:")===0){r["transition"]=o.substr(11)==="true"}else if(o.indexOf("scroll:")===0){var f=o.substr(7);var p=f.split(":");var c=p.pop();var u=p.length>0?p.join(":"):null;r["scroll"]=c;r["scrollTarget"]=u}else if(o.indexOf("show:")===0){var g=o.substr(5);var p=g.split(":");var w=p.pop();var u=p.length>0?p.join(":"):null;r["show"]=w;r["showTarget"]=u}else if(o.indexOf("focus-scroll:")===0){var h=o.substr("focus-scroll:".length);r["focusScroll"]=h=="true"}}}}if(!r["swapMode"])r["swapMode"]=this.config.defaultSwapMode;if(!r["swapTaken"])r["swapTaken"]=this.config.defaultSwapTaken;if(!r["swapTarget"])r["swapTarget"]=r["swapStyle"];r["swapStyle"]=d;return r},customSwap:function(i,e){console.warn("customSwap",i,e);var o=this.internalAPI;var l=this.getTakeInfo(i);if(l.target&&l.source){var f=l.target;var p=l.source}else{return}if(!e){var c=l.swapSpec}else{var c=e}f.classList.add(htmx.config.swappingClass);this.addCustomSwapClasses(f,"target",c.swapStyle);if(c.swapTaken=="outerHTML"){var u=p.outerHTML}else{var u=p.innerHTML}if(!o.triggerEvent(f,"htmx:beforeSwap"))return;p.classList.add(htmx.config.swappingClass);this.addCustomSwapClasses(p,"source",c.swapStyle);var s=null;var a=null;var g=this;var t=function(){try{var e=document.activeElement;var t={};try{t={elt:e,start:e?e.selectionStart:null,end:e?e.selectionEnd:null}}catch(e){}var s={tasks:[],elts:[f,p],source:p,elt:i,swapSpec:c};o.selectAndSwap(c.swapStyle,f,i,u,s);l=g.getTakeInfo(i);f=l.target;p=l.source;s["elts"]=[];if(f)s["elts"].push(f);if(p){s["elts"].push(p);s["source"]=p}if(t.elt&&!o.bodyContains(t.elt)&&t.elt.getAttribute("id")){var a=document.getElementById(t.elt.getAttribute("id"));var r={preventScroll:c.focusScroll!==undefined?!c.focusScroll:!htmx.config.defaultFocusScroll};if(a){if(t.start&&a.setSelectionRange){try{a.setSelectionRange(t.start,t.end)}catch(e){}}a.focus(r)}}if(f){f.classList.remove(htmx.config.swappingClass);g.removeCustomSwapClasses(f,"target",c.swapStyle)}if(p){p.classList.remove(htmx.config.swappingClass);g.removeCustomSwapClasses(p,"source",c.swapStyle)}v(s.elts,function(e){if(!e)return;if(e.classList){e.classList.add(htmx.config.settlingClass)}o.triggerEvent(e,"htmx:afterSwap")});var n=function(){v(s.tasks,function(e){e.call()});v(s.elts,function(e){if(!e)return;if(e.classList){e.classList.remove(htmx.config.settlingClass)}o.triggerEvent(e,"htmx:afterSettle")});if(s.title){var e=htmx.find("title");if(e){e.innerHTML=s.title}else{window.document.title=s.title}}g.updateScrollState(s.elts,c);if(o.settleResolve)o.settleResolve()};if(c.settleDelay>0){setTimeout(n,c.settleDelay)}else{n()}}catch(e){o.triggerErrorEvent(i,"htmx:swapError",u);if(o.settleReject)o.settleReject();throw e}};var r=htmx.config.globalViewTransitions;if(c.hasOwnProperty("transition")){r=c.transition}if(r&&o.triggerEvent(i,"htmx:beforeTransition",null)&&typeof Promise!=="undefined"&&document.startViewTransition){var n=new Promise(function(e,t){s=e;a=t});var w=t;t=function(){document.startViewTransition(function(){w();return n})}}if(c.swapDelay>0){setTimeout(t,c.swapDelay)}else{t()}},handleSwap:function(e,t,s,a){if(this.isHtmxSwapStyle(e))return false;var r=a.source;var n=a.swapSpec;var i=this.swapStyleProp(n.swapTaken);var o=this.swapStyleProp(n.swapTarget);var l=JSON.parse(JSON.stringify(n));l.swapDelay=0;l.swapStyle=n["swapTarget"];this.triggerSwapBeforeEvents(r,n.swapTaken);this.triggerSwapBeforeEvents(t,n.swapTarget);performSwap=this.swapModes[n.swapMode].before(r,t,i,o);if(performSwap){this.customSwap(a.elt,l)}this.swapModes[n.swapMode].after(r,t,i,o);this.triggerSwapAfterEvents(t,n.swapTarget);this.triggerSwapAfterEvents(r,n.swapTaken);return true},swapModes:{copy:{before:function(e,t,s,a){return true},after:function(e,t,s,a){}},exchange:{before:function(e,t,s,a){var r=e[s];var n=t[a];e[s]=n;t[a]=r;return false},after:function(e,t,s,a){}},move:{before:function(e,t,s,a){return true},after:function(e,t,s,a){e[s]=""}}},addCustomSwapClasses:function(e,t,s){e.classList.add(this.config.swappingClass);e.classList.add(this.config.swappingClass+"-"+t);if(s!=d)e.classList.add(this.config.swappingClass+"-"+s)},removeCustomSwapClasses:function(e,t,s){e.classList.remove(this.config.swappingClass);e.classList.remove(this.config.swappingClass+"-"+t);if(s!=d)e.classList.add(this.config.swappingClass+"-"+s)},triggerSwapBeforeEvents:function(e,t){if(!e)return;this.internalAPI.triggerEvent(e,this.config.eventsPrefix+"Before");htmx.process(e)},triggerSwapAfterEvents:function(e,t){if(!e)return;this.internalAPI.triggerEvent(e,this.config.eventsPrefix+"After");htmx.process(e)}});htmx.onLoad(function(){elts=htmx.findAll('[hx-ext="'+d+'"] ['+e+"]:not([hx-trigger]), "+'[hx-ext="'+d+'"]['+e+"]:not([hx-trigger]),"+'[data-hx-ext="'+d+'"] [data-'+e+"]:not([data-hx-trigger]), "+'[data-hx-ext="'+d+'"][data-'+e+"]:not([data-hx-trigger])");v(elts,function(e){e.setAttribute("hx-trigger","click");htmx.process(e)})})})();