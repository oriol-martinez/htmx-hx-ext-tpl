(function(){var d="take";var e="hx-take";var t="0.3.0";function v(e,t){if(e){for(var n=0;n<e.length;n++){res=t(e[n]);if(res===false)return false}}}function n(e){return e[0].toUpperCase()+e.slice(1)}function m(e){return e.trim().split(/\s+/)}htmx.defineExtension(d,{extAttr:e,version:t,config:{eventsPrefix:"ext"+n(d),swappingClass:e+"-swapping",defaultSwapMode:"copy",defaultSwapTaken:"innerHTML",defaultSwapTarget:"innerHTML",swapStyleAliases:{move:"",replace:"move:outer to:outer",copy:"copy:inner to:inner",trade:"exchange:inner to:inner",exchange:"exchange:outer to:outer",append:"copy:inner to:beforeend",prepend:"copy:inner to:afterbegin"}},init:function(e){this.internalAPI=e;htmx[d]=this},onEvent:function(e,t){var n=t.target;if(e=="htmx:trigger"&&this.internalAPI.getAttributeValue(n,this.extAttr)){this.customSwap(n);return false}return true},updateScrollState:function(e,t){var n=this.internalAPI;var a=e[0];var r=e[e.length-1];if(t.scroll){var s=null;if(t.scrollTarget){s=n.querySelectorExt(a,t.scrollTarget)}if(t.scroll==="top"&&(a||s)){s=s||a;s.scrollTop=0}if(t.scroll==="bottom"&&(r||s)){s=s||r;s.scrollTop=s.scrollHeight}}if(t.show){var s=null;if(t.showTarget){var i=t.showTarget;if(t.showTarget==="window"){i="body"}s=n.querySelectorExt(a,i)}if(t.show==="top"&&(a||s)){s=s||a;s.scrollIntoView({block:"start",behavior:htmx.config.scrollBehavior})}if(t.show==="bottom"&&(r||s)){s=s||r;s.scrollIntoView({block:"end",behavior:htmx.config.scrollBehavior})}}},isHtmxSwapStyle:function(e){e=m(e)[0];return["innerHTML","outerHTML","beforebegin","afterbegin","beforeend","afterend","delete","none"].indexOf(e)!==-1},getSwapStyleFromAlias:function(e){e=m(e)[0];return this.config.swapStyleAliases[e]||""},getTakeInfo:function(e){var t=this.internalAPI.getTarget(e);var n=this.internalAPI.getClosestAttributeValue(e,this.extAttr);var a=null;if(n)var a=htmx.find(n);return{elt:e,target:t,source:a,swapSpec:this.getCustomSwapSpecification(e)}},getCustomSwapSpecification:function(e,t){var n=this.internalAPI;var a=t?t:n.getClosestAttributeValue(e,"hx-swap");var r={swapMode:null,swapTaken:null,swapStyle:n.getInternalData(e).boosted?"innerHTML":htmx.config.defaultSwapStyle,swapDelay:htmx.config.defaultSwapDelay,settleDelay:htmx.config.defaultSettleDelay};if(n.getInternalData(e).boosted&&!isAnchorLink(e)){r["show"]="top"}if(a){var s=m(a);if(s.length>0){if(s.length==1&&this.getSwapStyleFromAlias(s[0])){return this.getCustomSwapSpecification(e,this.getSwapStyleFromAlias(s[0]))}r["swapStyle"]=s[0];for(var i=0;i<s.length;i++){var o=s[i];var l=this;v(Object.keys(this.swapModes),function(e){if(o.indexOf(e)===0){if(o.indexOf(":")!==-1){var t=o.split(":");r["swapMode"]=t[0];r["swapTaken"]=t[1]}else{r["swapMode"]=o;r["swapTaken"]=l.config.defaultSwapTaken}r["swapTarget"]=l.config.defaultSwapTarget;if(r["swapTaken"]=="inner"||r["swapTaken"]=="outer"){r["swapTaken"]+="HTML"}return false}});if(o.indexOf("to:")===0){r["swapTarget"]=o.substr(3);if(r["swapTarget"]=="inner"||r["swapTarget"]=="outer"){r["swapTarget"]+="HTML"}}else if(o.indexOf("swap:")===0){r["swapDelay"]=htmx.parseInterval(o.substr(5))}else if(o.indexOf("settle:")===0){r["settleDelay"]=htmx.parseInterval(o.substr(7))}else if(o.indexOf("transition:")===0){r["transition"]=o.substr(11)==="true"}else if(o.indexOf("scroll:")===0){var f=o.substr(7);var c=f.split(":");var p=c.pop();var u=c.length>0?c.join(":"):null;r["scroll"]=p;r["scrollTarget"]=u}else if(o.indexOf("show:")===0){var g=o.substr(5);var c=g.split(":");var h=c.pop();var u=c.length>0?c.join(":"):null;r["show"]=h;r["showTarget"]=u}else if(o.indexOf("focus-scroll:")===0){var w=o.substr("focus-scroll:".length);r["focusScroll"]=w=="true"}}}}if(!r["swapMode"])r["swapMode"]=this.config.defaultSwapMode;if(!r["swapTaken"])r["swapTaken"]=this.config.defaultSwapTaken;if(!r["swapTarget"])r["swapTarget"]=r["swapStyle"];r["swapStyle"]=d;return r},isCustomSwapSpecValid:function(e){if(e.swapMode&&Object.keys(this.swapModes).indexOf(e.swapMode)==-1){return false}if(e.swapTaken&&["innerHTML","outerHTML"].indexOf(e.swapTaken)==-1){return false}if(e.swapTarget&&!this.isHtmxSwapStyle(e.swapTarget)){return false}return true},customSwap:function(i,e){var o=this.internalAPI;var t=this.getTakeInfo(i);if(t.target&&t.source){var l=t.target;var f=t.source}else{return}if(!e){var c=t.swapSpec}else{var c=e}htmx.addClass(l,htmx.config.swappingClass);this.addCustomSwapClasses(l,"target",c.swapStyle);if(c.swapTaken=="outerHTML"){var p=f.outerHTML}else{var p=f.innerHTML}if(!o.triggerEvent(l,"htmx:beforeSwap"))return;htmx.addClass(f,htmx.config.swappingClass);this.addCustomSwapClasses(f,"source",c.swapStyle);var n=null;var a=null;var u=this;var r=function(){try{var e=document.activeElement;var t={};try{t={elt:e,start:e?e.selectionStart:null,end:e?e.selectionEnd:null}}catch(e){}var n={tasks:[],elts:[l,f],source:f,elt:i,swapSpec:c};o.selectAndSwap(c.swapStyle,l,i,p,n);if(t.elt&&!o.bodyContains(t.elt)&&t.elt.getAttribute("id")){var a=document.getElementById(t.elt.getAttribute("id"));var r={preventScroll:c.focusScroll!==undefined?!c.focusScroll:!htmx.config.defaultFocusScroll};if(a){if(t.start&&a.setSelectionRange){try{a.setSelectionRange(t.start,t.end)}catch(e){}}a.focus(r)}}if(l){htmx.removeClass(l,htmx.config.swappingClass);u.removeCustomSwapClasses(l,"target",c.swapStyle)}if(f){htmx.removeClass(f,htmx.config.swappingClass);u.removeCustomSwapClasses(f,"source",c.swapStyle)}v(n.elts,function(e){if(!e)return;htmx.addClass(e,htmx.config.settlingClass);o.triggerEvent(e,"htmx:afterSwap")});var s=function(){v(n.tasks,function(e){e.call()});v(n.elts,function(e){if(!e)return;if(e.classList){htmx.removeClass(e,htmx.config.settlingClass)}o.triggerEvent(e,"htmx:afterSettle")});if(n.title){var e=htmx.find("title");if(e){e.innerHTML=n.title}else{window.document.title=n.title}}u.updateScrollState(n.elts,c);if(o.settleResolve)o.settleResolve()};if(c.settleDelay>0){setTimeout(s,c.settleDelay)}else{s()}}catch(e){o.triggerErrorEvent(i,"htmx:swapError",p);if(o.settleReject)o.settleReject();throw e}};var s=htmx.config.globalViewTransitions;if(c.hasOwnProperty("transition")){s=c.transition}if(s&&o.triggerEvent(i,"htmx:beforeTransition",null)&&typeof Promise!=="undefined"&&document.startViewTransition){var g=new Promise(function(e,t){n=e;a=t});var h=r;r=function(){document.startViewTransition(function(){h();return g})}}if(c.swapDelay>0){setTimeout(r,c.swapDelay)}else{r()}},handleSwap:function(e,t,n,a){if(this.isHtmxSwapStyle(e))return false;if(!this.isCustomSwapSpecValid(a.swapSpec))return true;var r=a.source;var s=a.swapSpec;var i=JSON.parse(JSON.stringify(s));i.swapDelay=0;i.swapStyle=s.swapTarget;this.triggerSwapBeforeEvents(r,s.swapTaken);this.triggerSwapBeforeEvents(t,s.swapTarget);performSwap=this.swapModes[s.swapMode].before(r,t,i);if(performSwap)this.customSwap(a.elt,i);this.swapModes[s.swapMode].after(r,t,i);this.triggerSwapAfterEvents(t,s.swapTarget);this.triggerSwapAfterEvents(r,s.swapTaken);return true},swapModes:{copy:{before:function(e,t,n){return true},after:function(e,t,n){if(t.content){if(n.swapTarget=="innerHTML"){t.content.replaceChildren()}if(n.swapTaken=="outerHTML"){var a=[e]}else{var a=e.content?e.content.childNodes:e.childNodes}v(a,function(e){if(n.swapTarget=="afterbegin"){t.content.prepend(e.cloneNode(true))}else{t.content.append(e.cloneNode(true))}})}}},exchange:{before:function(t,n,e){if(e.swapTaken=="outerHTML"&&e.swapTarget=="outerHTML"){var a=t.cloneNode(true);var r=n.cloneNode(true);t.parentElement.replaceChild(r,t);n.parentElement.replaceChild(a,n);return false}var s=[];if(e.swapTaken=="innerHTML"){v(t.content?t.content.childNodes:t.childNodes,function(e){s.push(e.cloneNode(true))})}else{var s=[t.cloneNode(true)]}var i=[];if(e.swapTarget=="innerHTML"){v(n.content?n.content.childNodes:n.childNodes,function(e){i.push(e.cloneNode(true))})}else{var i=[n.cloneNode(true)]}t.content?t.content.replaceChildren():t.replaceChildren();n.content?n.content.replaceChildren():n.replaceChildren();v(s,function(e){n.content?n.content.append(e):n.append(e)});v(i,function(e){t.content?t.content.append(e):t.append(e)})},after:function(e,t,n){}},move:{before:function(e,t,n){return true},after:function(e,t,n){if(t.content){if(n.swapTarget=="innerHTML")t.content.replaceChildren();var a=e.content?e.content.childNodes:e.childNodes;v(a,function(e){if(n.swapTarget=="afterbegin"){t.content.prepend(e.cloneNode(true))}else{t.content.append(e.cloneNode(true))}})}if(n.swapTaken=="outerHTML"){e.remove()}else{e.content?e.content.replaceChildren():e.replaceChildren()}}}},addCustomSwapClasses:function(e,t,n){htmx.addClass(e,this.config.swappingClass);htmx.addClass(e,this.config.swappingClass+"-"+t);if(n!=d)htmx.addClass(e,this.config.swappingClass+"-"+n)},removeCustomSwapClasses:function(e,t,n){htmx.removeClass(e,this.config.swappingClass);htmx.removeClass(e,this.config.swappingClass+"-"+t);htmx.removeClass(e,this.config.swappingClass+"-"+n)},triggerSwapBeforeEvents:function(e,t){if(!e)return;this.internalAPI.triggerEvent(e,this.config.eventsPrefix+"Before");if(t!=d)this.internalAPI.triggerEvent(e,this.config.eventsPrefix+"Before"+n(t))},triggerSwapAfterEvents:function(e,t){if(!e)return;this.internalAPI.triggerEvent(e,this.config.eventsPrefix+"After");if(t!=d)this.internalAPI.triggerEvent(e,this.config.eventsPrefix+"After"+n(t));htmx.process(e)}});htmx.onLoad(function(){elts=htmx.findAll('[hx-ext="'+d+'"] ['+e+"]:not([hx-trigger]), "+'[hx-ext="'+d+'"]['+e+"]:not([hx-trigger]),"+'[data-hx-ext="'+d+'"] [data-'+e+"]:not([data-hx-trigger]), "+'[data-hx-ext="'+d+'"][data-'+e+"]:not([data-hx-trigger])");v(elts,function(e){e.setAttribute("hx-trigger","click");htmx.process(e)})})})();